> 参考文献
>
> 1. [webpack 指南](https://doc.webpack-china.org/guides/)

# # 配置

```javascript
// webpack.config.js
const htmlWebpackPlugin = require('html-webpack-plugin');
const webpack = require('webpack');
const path = require('path');

module.exports = {
    // 入口/程序开始执行/webpack 开始打包
    entry: {
        main : './src/index.js', // string|object|array
    },
    // 出口
    output: {
        filename: 'bundle.js', // 输出的文件名称
       // 输出的文件目录, 必须是绝对路径（使用 Node.js 的 path 模块）
        path: path.resolve(__dirname, 'dist') 
    },
    // loader
    module: {
        // 转换规则
        rules: [
            {
                test: /\.txt$/,   // 当在 require/import 时遇到.txt文件时
                use: 'raw-loader' // 打包之前先使用 "raw-loader" 转换一下
            }
        ]
    },
    // 插件
    plugins: [
        new htmlWebpackPlugin({template: './src/index.html'})
    ]
};
```

# # 安装

## 1. 前提条件

下载最新版的 [nodeJS](http://nodejs.cn/download/)

```shell
$ node -v
v8.9.3
```

## 2. 全局安装

```shell
$ npm install -g webpack
```

查看版本：

```shell
$ webpack -v
3.10.0 
```

# # webpack 初体验

这里我们通过 webpack 实现一个 “Hello, world!” 的小练习。

1. 首先创建一个空的项目（*webpackProj*），打开终端，`cd` 到项目中，输入如下指令创建 *"package.json"*。

```shell
$ npm init -y
```

2. 接下来安装webpack

```shell
$ npm install --save-dev webpack
```

> 当你在本地安装 webpack 后，你能够从 `node_modules/.bin/webpack` 访问它的 bin 版本

3. 创建如下文件目录

```javascript
.
├── dist
├── node_modules
├── package.json
└── src
    └── app.js
```

> 提示：
>
> \> dist 文件夹用于存放编译输出后的文件。
>
> \> src 文件夹用于存档源文件。
>
> \> app.js 文件内部写一句输出语句，输出 “Hello, world!”。

4. 开始转化

```shell
$ webpack ./src/app.js ./dist/app.bundle.js
Hash: f971b3ff5dffc0f6cfdb
Version: webpack 3.10.0
Time: 50ms
        Asset    Size  Chunks             Chunk Names
app.bundle.js  2.5 kB       0  [emitted]  main
   [0] ./src/app.js 30 bytes {0} [built]
```

> 提示：
>
> \> 上述指令将 `app.js` 作为源文件，将 `app.bundle.js` 作为输出文件。
>
> \> 编译成功之后 `dist` 目录下生成一个 “app.bundle.js” 文件，“app.js” 源码部分包含在该文件中。

5. `--watch`

通过 ”—watch“ 参数，可以监听文件变化，实时更新 “app.bundle.js"。

```shell
$ webpack --watch ./src/app.js ./dist/app.bundle.js
```

> 提示：
>
> \> 退出监听状态使用快捷键： `Ctr` + `C`.

6. `-p`

之前转换的结果又 2.5KB 大小，只有一行代码，如果代码多的话会不断增加文件体积，在转化的时候我们可通过 ”-p“ 参数进行压缩。

```shell
$ webpack -p ./src/app.js ./dist/app.bundle.js
Hash: 4334ac0ae1b847165405
Version: webpack 3.10.0
Time: 89ms
        Asset       Size  Chunks             Chunk Names
app.bundle.js  528 bytes       0  [emitted]  main
   [0] ./src/app.js 99 bytes {0} [built]
```

压缩后只有 528 tytes，所占内存是不是小了很多呢？

# # webpack.config.js

​        








